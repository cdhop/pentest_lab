Vagrant.configure("2") do |config|
  config.vm.define :kali do |kali_config|
    kali_config.vm.box = "offensive-security/kali-linux"  
    kali_config.vm.network "private_network", type: "dhcp"
  end

  config.vm.define :meta do |meta_config|
    meta_config.vm.box = "rapid7/metasploitable3-ub1404" 
    meta_config.vm.network "private_network", type: "dhcp"
    meta_config.vm.synced_folder '.', '/vagrant', disabled: true
    meta_config.ssh.username = "vagrant"
    meta_config.ssh.password = "vagrant"
  end

  if ENV['WINDOWS_TARGET'] == 'true'
    config.vm.define :win2012 do |win_config|
      win_config.vm.box = "rapid7/metasploitable3-win2k8"
      win_config.vm.network "private_network", type: "dhcp"
    end
  end

end
